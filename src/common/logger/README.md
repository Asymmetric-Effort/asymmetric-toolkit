Common Logger
=============

## Purpose
* Provide a common logging facility which provides resource-efficient high-cardinality structured event logging
  for the toolkit.  This facility should allow any tool in the repository to quickly implement the logging with
  common/cli integration.  Further, the logs emitted by this solution should be compressed and allow for future log
  encryption prior to transmission or storage.
  
## Usage
* Assumptions:
    1. We assume the application has a `Configuration` struct which contains a `common/logger` `Configuration` struct.
    2. We assume the application has populated the `Configuration` struct completely.
 
### Creating A New Logger:
The following example demonstrates the steps to create a new Logger:
```
var log logger.Logger
log.Setup(&config.log)
```

### Writing a Single Log Event
To write a log event (single event):
```
log.Debug(<ThisEventId>[,<value>][, <tags...>])
```
In this example we see where an `EventId` identifier is used to identify the event.  This EventId must be defined
in our eventId files as a constant.  We also see that the EventId may be logged with or without a value or any
arbitrary tags.  See "Event Tagging", below.

The above may be used with--
* `log.Critical()`
* `log.Error()`
* `log.Warning()`
* `log.Info()`
* `log.Debug()`


### Writing multi-step, single-transaction Events:
This logging facility allows a programmer to create multi-step, single-transaction events, where two or more calls
to the log writers are related to one another as a single transaction.
```
transactionId=log.TagCreate("mytransactionName")
log.Debug(<thisEventId>[,<value>],transactionId,<tags...>])
. . . 
log.TagClose(transactionId)
```
The transactionId generated by `log.CreateTransaction()` is formatted as a tag and the log writer will consume it
as such.  
    
## Event Tagging
Event tags are a special datatype (`LogTag`) which log writers use to write high-cardinality, rich events to their 
destination.  Tags must be created before they can be used...
```
tagId = log.TagCreate(tagName string)
```
1. When a tag is created, its definition is logged, and a numeric tagId is returned for use by log writers.
2. When `log.TagClose()` is called, the operation is logged to indicate that the tag is no longer expected to be used.

TagIds are issued sequentially and are represented as 64-bit integers.